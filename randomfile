#!/usr/bin/env perl
use strict;
use warnings;
use Getopt::Long;
use Cwd;
use File::Random qw/random_file/;

my $pat = '^.+$';
my $num = 1;

GetOptions(
    'p|pattern=s' => \$pat,
    'n|number=i' => \$num,
    );

while ($num) {
    my $dir = $ARGV[rand @ARGV] or cwd();
    my $random_file = random_file(-dir       => $dir,
                                  -check => qr/$pat/,
                                  -recursive => 1);
    print "$random_file\n";
    --$num;
}
